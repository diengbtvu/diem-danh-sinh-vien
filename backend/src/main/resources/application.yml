spring:
  datasource:
    url: jdbc:mysql://14.225.220.60:3306/attendance?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 2A054C17@aA@2A054C17**
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect
    open-in-view: false
server:
  port: 8083
  forward-headers-strategy: framework

app:
  faceApiUrl: https://server.zettix.net
  rotateSeconds: 20
  hmacSecret: change-me
  frontendHost: https://diemdanh.zettix.net
  uploadPath: /root/Desktop/diem-danh-sinh-vien/uploads

# Attendance system configuration
attendance:
  # QR B activation window duration in seconds
  qr-b-window-seconds: 30

  # QR token rotation interval in seconds
  qr-rotate-seconds: 30

  # QR token step tolerance (Â±N steps are valid)
  qr-step-tolerance: 1

  # Session token validity duration in hours
  session-token-validity-hours: 24

  # Maximum image size in MB
  max-image-size-mb: 5

  # Frontend URL template
  frontend-url-template: "https://zettix.net/attend?session={sessionToken}"

logging:
  level:
    root: INFO
    org.springframework.web: INFO

# Respect X-Forwarded-* headers behind Nginx/SSL (already set above)

---
spring:
  config:
    activate:
      on-profile: dev
  datasource:
    url: jdbc:mysql://localhost:3306/attendance?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456
  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect
    open-in-view: false
